CREATE TABLE GRP
(
DAY INT,
COLA CHAR(1),
COLB CHAR(1)
);

INSERT INTO GRP VALUES (18,'A','B');
INSERT INTO GRP VALUES (19,'A','B');
INSERT INTO GRP VALUES (20,'B','A');
INSERT INTO GRP VALUES (21,'A','B');
INSERT INTO GRP VALUES (22,'A','B');
INSERT INTO GRP VALUES (23,'A','B');

WITH CTE AS
(SELECT DAY,COLA,COLB,DAY - ROW_NUMBER() OVER (PARTITION BY COLA,COLB ORDER BY DAY) RNK FROM GRP)
SELECT MIN(DAY) FROM1,MAX(DAY) TOO, MIN(COLA) COLA,MIN(COLB) COLB FROM CTE GROUP BY RNK ORDER BY MIN(DAY);