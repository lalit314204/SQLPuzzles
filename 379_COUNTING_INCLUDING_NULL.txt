CREATE TABLE CNTNULL
(
ID INT,
VAL CHAR(1)
);

INSERT INTO CNTNULL VALUES (1,'Q');
INSERT INTO CNTNULL VALUES (1,NULL);
INSERT INTO CNTNULL VALUES (2,'D');
INSERT INTO CNTNULL VALUES (2,'D');
INSERT INTO CNTNULL VALUES (2,'S');
INSERT INTO CNTNULL VALUES (2,'S');
INSERT INTO CNTNULL VALUES (2,NULL);
INSERT INTO CNTNULL VALUES (3,NULL);
INSERT INTO CNTNULL VALUES (3,NULL);
INSERT INTO CNTNULL VALUES (4,'A');
INSERT INTO CNTNULL VALUES (4,'A');
INSERT INTO CNTNULL VALUES (4,'A');

SELECT ID, COUNT(DISTINCT VAL) + MAX(CASE WHEN VAL IS NULL THEN 1 ELSE 0 END) CNT FROM CNTNULL GROUP BY ID;